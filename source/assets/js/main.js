/*!
  * @preserve Qwery - A selector engine
  * https://github.com/ded/qwery
  * (c) Dustin Diaz 2014 | License MIT
  */

/*!
  * Bean - copyright (c) Jacob Thornton 2011-2012
  * https://github.com/fat/bean
  * MIT license
  */

/*!
  * Bonzo: DOM Utility (c) Dustin Diaz 2012
  * https://github.com/ded/bonzo
  * License MIT
  */

(function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():typeof define=="function"&&define.amd?define("libs/qwery",n):t[e]=n()})("qwery",this,function(){function e(e){return[].slice.call(e,0)}function t(e){var t;return e&&typeof e=="object"&&(t=e.nodeType)&&(t==1||t==9)}function n(e){return typeof e=="object"&&isFinite(e.length)}function r(e){for(var t=[],r=0,i=e.length;r<i;++r)n(e[r])?t=t.concat(e[r]):t[t.length]=e[r];return t}function i(e){var t=[],n,r;e:for(n=0;n<e.length;n++){for(r=0;r<t.length;r++)if(t[r]==e[n])continue e;t[t.length]=e[n]}return t}function s(e){return e?typeof e=="string"?o(e)[0]:!e[c]&&n(e)?e[0]:e:a}function o(i,o){var l,c=s(o);return!c||!i?[]:i===f||t(i)?!o||i!==f&&t(c)&&h(i,c)?[i]:[]:i&&n(i)?r(i):a.getElementsByClassName&&i=="string"&&(l=i.match(u))?e(c.getElementsByClassName(l[1])):i&&(i.document||i.nodeType&&i.nodeType==9)?o?[]:[i]:e(c.querySelectorAll(i))}var u=/^\.([\w\-]+)$/,a=document,f=window,l=a.documentElement,c="nodeType",h="compareDocumentPosition"in l?function(e,t){return(t.compareDocumentPosition(e)&16)==16}:function(e,t){return t=t==a||t==window?l:t,t!==e&&t.contains(e)};return o.uniq=i,o},this),define("modules/fonts",["libs/qwery"],function(e){var t={kitId:"tiu5deg",scriptTimeout:3e3};return{init:function(n){var r=e("html");r.className+=" wf-loading";var i=setTimeout(function(){r.className=r.className.replace(/(\s|^)wf-loading(\s|$)/g," "),r.className+=" wf-inactive"},t.scriptTimeout),n=!1,s=document.createElement("script");s.src="//use.typekit.net/"+t.kitId+".js",s.type="text/javascript",s.async="true",s.onload=s.onreadystatechange=function(){var e=this.readyState;if(n||e&&e!="complete"&&e!="loaded")return;n=!0,clearTimeout(i);try{Typekit.load(t)}catch(r){}};var o=e("script")[0];o.parentNode.insertBefore(s,o)}}}),define("modules/canvas",[],function(){var e,t=0,n=0,r=10,i=200,s=[],o,u=["#9bd5e0","#c44f85","#e2e2e2","#7ecac6","#5db456","#e6d35f","#fc7c62","#797379","#dedede","#333","#b51717"];return{init:function(){o=document.getElementsByClassName("home-header__canvas")[0],o.style.width="100%",o.style.height="100%",o.width=o.offsetWidth,o.height=o.offsetHeight;if(o.getContext){e=o.getContext("2d"),setInterval(this.draw,25);for(var t=0;t<r;t++){var n=new Object;n.x=Math.floor(Math.random()*(o.width+i))-i,n.y=Math.floor(Math.random()*o.height),n.speed=1+Math.random()*8,n.fill=u[t],s.push(n)}}},draw:function(){e.clearRect(0,0,o.width,o.height);for(var t=0;t<r;t++)e.fillStyle=s[t].fill,e.fillRect(s[t].x,s[t].y,i,i),s[t].y+=s[t].speed,s[t].y>o.height+i&&(s[t].y=-i,s[t].x=Math.random()*o.width)}}}),define("home",["modules/canvas"],function(e){function t(){e.init()}return{init:t}}),function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():typeof define=="function"&&define.amd?define("libs/bean",n):t[e]=n()}("bean",this,function(e,t){e=e||"bean",t=t||this;var n=window,r=t[e],i=/[^\.]*(?=\..*)\.|.*/,s=/\..*/,o="addEventListener",u="removeEventListener",a=document||{},f=a.documentElement||{},l=f[o],c=l?o:"attachEvent",h={},p=Array.prototype.slice,d=function(e,t){return e.split(t||" ")},v=function(e){return typeof e=="string"},m=function(e){return typeof e=="function"},g="click dblclick mouseup mousedown contextmenu mousewheel mousemultiwheel DOMMouseScroll mouseover mouseout mousemove selectstart selectend keydown keypress keyup orientationchange focus blur change reset select submit load unload beforeunload resize move DOMContentLoaded readystatechange message error abort scroll ",y="show input invalid touchstart touchmove touchend touchcancel gesturestart gesturechange gestureend textinput readystatechange pageshow pagehide popstate hashchange offline online afterprint beforeprint dragstart dragenter dragover dragleave drag drop dragend loadstart progress suspend emptied stalled loadmetadata loadeddata canplay canplaythrough playing waiting seeking seeked ended durationchange timeupdate play pause ratechange volumechange cuechange checking noupdate downloading cached updateready obsolete ",b=function(e,t,n){for(n=0;n<t.length;n++)t[n]&&(e[t[n]]=1);return e}({},d(g+(l?y:""))),w=function(){var e="compareDocumentPosition"in f?function(e,t){return t.compareDocumentPosition&&(t.compareDocumentPosition(e)&16)===16}:"contains"in f?function(e,t){return t=t.nodeType===9||t===window?f:t,t!==e&&t.contains(e)}:function(e,t){while(e=e.parentNode)if(e===t)return 1;return 0},t=function(t){var n=t.relatedTarget;return n?n!==this&&n.prefix!=="xul"&&!/document/.test(this.toString())&&!e(n,this):n==null};return{mouseenter:{base:"mouseover",condition:t},mouseleave:{base:"mouseout",condition:t},mousewheel:{base:/Firefox/.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel"}}}(),E=function(){var e=d("altKey attrChange attrName bubbles cancelable ctrlKey currentTarget detail eventPhase getModifierState isTrusted metaKey relatedNode relatedTarget shiftKey srcElement target timeStamp type view which propertyName"),t=e.concat(d("button buttons clientX clientY dataTransfer fromElement offsetX offsetY pageX pageY screenX screenY toElement")),r=t.concat(d("wheelDelta wheelDeltaX wheelDeltaY wheelDeltaZ axis")),i=e.concat(d("char charCode key keyCode keyIdentifier keyLocation location")),s=e.concat(d("data")),o=e.concat(d("touches targetTouches changedTouches scale rotation")),u=e.concat(d("data origin source")),l=e.concat(d("state")),c=/over|out/,h=[{reg:/key/i,fix:function(e,t){return t.keyCode=e.keyCode||e.which,i}},{reg:/click|mouse(?!(.*wheel|scroll))|menu|drag|drop/i,fix:function(e,n,r){n.rightClick=e.which===3||e.button===2,n.pos={x:0,y:0};if(e.pageX||e.pageY)n.clientX=e.pageX,n.clientY=e.pageY;else if(e.clientX||e.clientY)n.clientX=e.clientX+a.body.scrollLeft+f.scrollLeft,n.clientY=e.clientY+a.body.scrollTop+f.scrollTop;return c.test(r)&&(n.relatedTarget=e.relatedTarget||e[(r=="mouseover"?"from":"to")+"Element"]),t}},{reg:/mouse.*(wheel|scroll)/i,fix:function(){return r}},{reg:/^text/i,fix:function(){return s}},{reg:/^touch|^gesture/i,fix:function(){return o}},{reg:/^message$/i,fix:function(){return u}},{reg:/^popstate$/i,fix:function(){return l}},{reg:/.*/,fix:function(){return e}}],p={},v=function(e,t,r){if(!arguments.length)return;e=e||((t.ownerDocument||t.document||t).parentWindow||n).event,this.originalEvent=e,this.isNative=r,this.isBean=!0;if(!e)return;var i=e.type,s=e.target||e.srcElement,o,u,a,f,l;this.target=s&&s.nodeType===3?s.parentNode:s;if(r){l=p[i];if(!l)for(o=0,u=h.length;o<u;o++)if(h[o].reg.test(i)){p[i]=l=h[o].fix;break}f=l(e,this,i);for(o=f.length;o--;)!((a=f[o])in this)&&a in e&&(this[a]=e[a])}};return v.prototype.preventDefault=function(){this.originalEvent.preventDefault?this.originalEvent.preventDefault():this.originalEvent.returnValue=!1},v.prototype.stopPropagation=function(){this.originalEvent.stopPropagation?this.originalEvent.stopPropagation():this.originalEvent.cancelBubble=!0},v.prototype.stop=function(){this.preventDefault(),this.stopPropagation(),this.stopped=!0},v.prototype.stopImmediatePropagation=function(){this.originalEvent.stopImmediatePropagation&&this.originalEvent.stopImmediatePropagation(),this.isImmediatePropagationStopped=function(){return!0}},v.prototype.isImmediatePropagationStopped=function(){return this.originalEvent.isImmediatePropagationStopped&&this.originalEvent.isImmediatePropagationStopped()},v.prototype.clone=function(e){var t=new v(this,this.element,this.isNative);return t.currentTarget=e,t},v}(),S=function(e,t){return!l&&!t&&(e===a||e===n)?f:e},x=function(){var e=function(e,t,n,r){var i=function(n,i){return t.apply(e,r?p.call(i,n?0:1).concat(r):i)},s=function(n,r){return t.__beanDel?t.__beanDel.ft(n.target,e):r},o=n?function(e){var t=s(e,this);if(n.apply(t,arguments))return e&&(e.currentTarget=t),i(e,arguments)}:function(e){return t.__beanDel&&(e=e.clone(s(e))),i(e,arguments)};return o.__beanDel=t.__beanDel,o},t=function(t,n,r,i,s,o,u){var a=w[n],f;n=="unload"&&(r=A(O,t,n,r,i)),a&&(a.condition&&(r=e(t,r,a.condition,o)),n=a.base||n),this.isNative=f=b[n]&&!!t[c],this.customType=!l&&!f&&n,this.element=t,this.type=n,this.original=i,this.namespaces=s,this.eventType=l||f?n:"propertychange",this.target=S(t,f),this[c]=!!this.target[c],this.root=u,this.handler=e(t,r,null,o)};return t.prototype.inNamespaces=function(e){var t,n,r=0;if(!e)return!0;if(!this.namespaces)return!1;for(t=e.length;t--;)for(n=this.namespaces.length;n--;)e[t]==this.namespaces[n]&&r++;return e.length===r},t.prototype.matches=function(e,t,n){return this.element===e&&(!t||this.original===t)&&(!n||this.handler===n)},t}(),T=function(){var e={},t=function(n,r,i,s,o,u){var a=o?"r":"$";if(!r||r=="*")for(var f in e)f.charAt(0)==a&&t(n,f.substr(1),i,s,o,u);else{var l=0,c,h=e[a+r],p=n=="*";if(!h)return;for(c=h.length;l<c;l++)if((p||h[l].matches(n,i,s))&&!u(h[l],h,l,r))return}},n=function(t,n,r,i){var s,o=e[(i?"r":"$")+n];if(o)for(s=o.length;s--;)if(!o[s].root&&o[s].matches(t,r,null))return!0;return!1},r=function(e,n,r,i){var s=[];return t(e,n,r,null,i,function(e){return s.push(e)}),s},i=function(t){var n=!t.root&&!this.has(t.element,t.type,null,!1),r=(t.root?"r":"$")+t.type;return(e[r]||(e[r]=[])).push(t),n},s=function(n){t(n.element,n.type,null,n.handler,n.root,function(t,n,r){return n.splice(r,1),t.removed=!0,n.length===0&&delete e[(t.root?"r":"$")+t.type],!1})},o=function(){var t,n=[];for(t in e)t.charAt(0)=="$"&&(n=n.concat(e[t]));return n};return{has:n,get:r,put:i,del:s,entries:o}}(),N,C=function(e){arguments.length?N=e:N=a.querySelectorAll?function(e,t){return t.querySelectorAll(e)}:function(){throw new Error("Bean: No selector engine installed")}},k=function(e,t){if(!l&&t&&e&&e.propertyName!="_on"+t)return;var n=T.get(this,t||e.type,null,!1),r=n.length,i=0;e=new E(e,this,!0),t&&(e.type=t);for(;i<r&&!e.isImmediatePropagationStopped();i++)n[i].removed||n[i].handler.call(this,e)},L=l?function(e,t,n){e[n?o:u](t,k,!1)}:function(e,t,n,r){var i;n?(T.put(i=new x(e,r||t,function(t){k.call(e,t,r)},k,null,null,!0)),r&&e["_on"+r]==null&&(e["_on"+r]=0),i.target.attachEvent("on"+i.eventType,i.handler)):(i=T.get(e,r||t,k,!0)[0],i&&(i.target.detachEvent("on"+i.eventType,i.handler),T.del(i)))},A=function(e,t,n,r,i){return function(){r.apply(this,arguments),e(t,n,i)}},O=function(e,t,n,r){var i=t&&t.replace(s,""),o=T.get(e,i,null,!1),u={},a,f;for(a=0,f=o.length;a<f;a++)(!n||o[a].original===n)&&o[a].inNamespaces(r)&&(T.del(o[a]),!u[o[a].eventType]&&o[a][c]&&(u[o[a].eventType]={t:o[a].eventType,c:o[a].type}));for(a in u)T.has(e,u[a].t,null,!1)||L(e,u[a].t,!1,u[a].c)},M=function(e,t){var n=function(t,n){var r,i=v(e)?N(e,n):e;for(;t&&t!==n;t=t.parentNode)for(r=i.length;r--;)if(i[r]===t)return t},r=function(e){var r=n(e.target,this);r&&t.apply(r,arguments)};return r.__beanDel={ft:n,selector:e},r},_=l?function(e,t,r){var i=a.createEvent(e?"HTMLEvents":"UIEvents");i[e?"initEvent":"initUIEvent"](t,!0,!0,n,1),r.dispatchEvent(i)}:function(e,t,n){n=S(n,e),e?n.fireEvent("on"+t,a.createEventObject()):n["_on"+t]++},D=function(e,t,n){var r=v(t),o,u,a,f;if(r&&t.indexOf(" ")>0){t=d(t);for(f=t.length;f--;)D(e,t[f],n);return e}u=r&&t.replace(s,""),u&&w[u]&&(u=w[u].base);if(!t||r){if(a=r&&t.replace(i,""))a=d(a,".");O(e,u,n,a)}else if(m(t))O(e,null,t);else for(o in t)t.hasOwnProperty(o)&&D(e,o,t[o]);return e},P=function(e,t,n,r){var o,u,a,f,l,v,g;if(n===undefined&&typeof t=="object"){for(u in t)t.hasOwnProperty(u)&&P.call(this,e,u,t[u]);return}m(n)?(l=p.call(arguments,3),r=o=n):(o=r,l=p.call(arguments,4),r=M(n,o,N)),a=d(t),this===h&&(r=A(D,e,t,r,o));for(f=a.length;f--;)g=T.put(v=new x(e,a[f].replace(s,""),r,o,d(a[f].replace(i,""),"."),l,!1)),v[c]&&g&&L(e,v.eventType,!0,v.customType);return e},H=function(e,t,n,r){return P.apply(null,v(n)?[e,n,t,r].concat(arguments.length>3?p.call(arguments,5):[]):p.call(arguments))},B=function(){return P.apply(h,arguments)},j=function(e,t,n){var r=d(t),o,u,a,f,l;for(o=r.length;o--;){t=r[o].replace(s,"");if(f=r[o].replace(i,""))f=d(f,".");if(!f&&!n&&e[c])_(b[t],t,e);else{l=T.get(e,t,null,!1),n=[!1].concat(n);for(u=0,a=l.length;u<a;u++)l[u].inNamespaces(f)&&l[u].handler.apply(e,n)}}return e},F=function(e,t,n){var r=T.get(t,n,null,!1),i=r.length,s=0,o,u;for(;s<i;s++)r[s].original&&(o=[e,r[s].type],(u=r[s].handler.__beanDel)&&o.push(u.selector),o.push(r[s].original),P.apply(null,o));return e},I={on:P,add:H,one:B,off:D,remove:D,clone:F,fire:j,Event:E,setSelectorEngine:C,noConflict:function(){return t[e]=r,this}};if(n.attachEvent){var q=function(){var e,t=T.entries();for(e in t)t[e].type&&t[e].type!=="unload"&&D(t[e].element,t[e].type);n.detachEvent("onunload",q),n.CollectGarbage&&n.CollectGarbage()};n.attachEvent("onunload",q)}return C(),I}),function(e,t,n){typeof module!="undefined"&&module.exports?module.exports=n():typeof define=="function"&&define.amd?define("libs/bonzo",n):t[e]=n()}("bonzo",this,function(){function e(e,t){var n=null,r=T.defaultView.getComputedStyle(e,"");return r&&(n=r[t]),e.style[t]||n}function t(e){return e&&e.nodeName&&(e.nodeType==1||e.nodeType==11)}function n(e,n,r){var i,s,o;if(typeof e=="string")return S.create(e);t(e)&&(e=[e]);if(r){o=[];for(i=0,s=e.length;i<s;i++)o[i]=y(n,e[i]);return o}return e}function r(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function i(e,t,n,r){var i,s=0,o=e.length;for(;s<o;s++)i=r?e.length-s-1:s,t.call(n||e[i],e[i],i,e);return e}function s(e,n,r){for(var i=0,o=e.length;i<o;i++)t(e[i])&&(s(e[i].childNodes,n,r),n.call(r||e[i],e[i],i,e));return e}function o(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function u(e){return e?e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase():e}function a(e){e[X]("data-node-uid")||e[W]("data-node-uid",++q);var t=e[X]("data-node-uid");return I[t]||(I[t]={})}function f(e){var t=e[X]("data-node-uid");t&&delete I[t]}function l(e){var t;try{return e===null||e===undefined?undefined:e==="true"?!0:e==="false"?!1:e==="null"?null:(t=parseFloat(e))==e?t:e}catch(n){}return undefined}function c(e,t,n){for(var r=0,i=e.length;r<i;++r)if(t.call(n||null,e[r],r,e))return!0;return!1}function h(e){return e=="transform"&&(e=V.transform)||/^transform-?[Oo]rigin$/.test(e)&&(e=V.transform+"Origin"),e?o(e):null}function p(e,t,r,s){var o=0,u=t||this,a=[],f=Q&&typeof e=="string"&&e.charAt(0)!="<"?Q(e):e;return i(n(f),function(e,t){i(u,function(n){r(e,a[o++]=t>0?y(u,n):n)},null,s)},this,s),u.length=o,i(a,function(e){u[--o]=e},null,!s),u}function d(e,t,n){var r=S(e),i=r.css("position"),s=r.offset(),o="relative",u=i==o,a=[parseInt(r.css("left"),10),parseInt(r.css("top"),10)];i=="static"&&(r.css("position",o),i=o),isNaN(a[0])&&(a[0]=u?0:e.offsetLeft),isNaN(a[1])&&(a[1]=u?0:e.offsetTop),t!=null&&(e.style.left=t-s.left+a[0]+z),n!=null&&(e.style.top=n-s.top+a[1]+z)}function v(e,t){return typeof t=="function"?t.call(e,e):t}function m(e,t,n){var r=this[0];return r?e==null&&t==null?(b(r)?w():{x:r.scrollLeft,y:r.scrollTop})[n]:(b(r)?x.scrollTo(e,t):(e!=null&&(r.scrollLeft=e),t!=null&&(r.scrollTop=t)),this):this}function g(e){this.length=0;if(e){e=typeof e!="string"&&!e.nodeType&&typeof e.length!="undefined"?e:[e],this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}}function y(e,t){var n=t.cloneNode(!0),r,i,s;if(e.$&&typeof e.cloneEvents=="function"){e.$(n).cloneEvents(t),r=e.$(n).find("*"),i=e.$(t).find("*");for(s=0;s<i.length;s++)e.$(r[s]).cloneEvents(i[s])}return n}function b(e){return e===x||/^(?:body|html)$/i.test(e.tagName)}function w(){return{x:x.pageXOffset||N.scrollLeft,y:x.pageYOffset||N.scrollTop}}function E(e){var t=document.createElement("script"),n=e.match(A);return t.src=n[1],t}function S(e){return new g(e)}var x=window,T=x.document,N=T.documentElement,C="parentNode",k=/^(checked|value|selected|disabled)$/i,L=/^(select|fieldset|table|tbody|tfoot|td|tr|colgroup)$/i,A=/\s*<script +src=['"]([^'"]+)['"]>/,O=["<table>","</table>",1],M=["<table><tbody><tr>","</tr></tbody></table>",3],_=["<select>","</select>",1],D=["_","",0,1],P={thead:O,tbody:O,tfoot:O,colgroup:O,caption:O,tr:["<table><tbody>","</tbody></table>",2],th:M,td:M,col:["<table><colgroup>","</colgroup></table>",2],fieldset:["<form>","</form>",1],legend:["<form><fieldset>","</fieldset></form>",2],option:_,optgroup:_,script:D,style:D,link:D,param:D,base:D},H=/^(checked|selected|disabled)$/,B,j,F,I={},q=0,R=/^-?[\d\.]+$/,U=/^data-(.+)$/,z="px",W="setAttribute",X="getAttribute",V=function(){var e=T.createElement("p");return{transform:function(){var t=["transform","webkitTransform","MozTransform","OTransform","msTransform"],n;for(n=0;n<t.length;n++)if(t[n]in e.style)return t[n]}(),classList:"classList"in e}}(),$=/\s+/,J=String.prototype.toString,K={lineHeight:1,zoom:1,zIndex:1,opacity:1,boxFlex:1,WebkitBoxFlex:1,MozBoxFlex:1},Q=T.querySelectorAll&&function(e){return T.querySelectorAll(e)};return V.classList?(B=function(e,t){return e.classList.contains(t)},j=function(e,t){e.classList.add(t)},F=function(e,t){e.classList.remove(t)}):(B=function(e,t){return r(t).test(e.className)},j=function(e,t){e.className=(e.className+" "+t).trim()},F=function(e,t){e.className=e.className.replace(r(t)," ").trim()}),g.prototype={get:function(e){return this[e]||null},each:function(e,t){return i(this,e,t)},deepEach:function(e,t){return s(this,e,t)},map:function(e,t){var n=[],r,i;for(i=0;i<this.length;i++)r=e.call(this,this[i],i),t?t(r)&&n.push(r):n.push(r);return n},html:function(e,t){var r=t?"textContent":"innerHTML",s=this,o=function(t,r){i(n(e,s,r),function(e){t.appendChild(e)})},u=function(n,i){try{if(t||typeof e=="string"&&!L.test(n.tagName))return n[r]=e}catch(s){}o(n,i)};return typeof e!="undefined"?this.empty().each(u):this[0]?this[0][r]:""},text:function(e){return this.html(e,!0)},append:function(e){var t=this;return this.each(function(r,s){i(n(e,t,s),function(e){r.appendChild(e)})})},prepend:function(e){var t=this;return this.each(function(r,s){var o=r.firstChild;i(n(e,t,s),function(e){r.insertBefore(e,o)})})},appendTo:function(e,t){return p.call(this,e,t,function(e,t){e.appendChild(t)})},prependTo:function(e,t){return p.call(this,e,t,function(e,t){e.insertBefore(t,e.firstChild)},1)},before:function(e){var t=this;return this.each(function(r,s){i(n(e,t,s),function(e){r[C].insertBefore(e,r)})})},after:function(e){var t=this;return this.each(function(r,s){i(n(e,t,s),function(e){r[C].insertBefore(e,r.nextSibling)},null,1)})},insertBefore:function(e,t){return p.call(this,e,t,function(e,t){e[C].insertBefore(t,e)})},insertAfter:function(e,t){return p.call(this,e,t,function(e,t){var n=e.nextSibling;n?e[C].insertBefore(t,n):e[C].appendChild(t)},1)},replaceWith:function(e){var t=this;return this.each(function(r,s){i(n(e,t,s),function(e){r[C]&&r[C].replaceChild(e,r)})})},clone:function(e){var t=[],n,r;for(r=0,n=this.length;r<n;r++)t[r]=y(e||this,this[r]);return S(t)},addClass:function(e){return e=J.call(e).split($),this.each(function(t){i(e,function(e){e&&!B(t,v(t,e))&&j(t,v(t,e))})})},removeClass:function(e){return e=J.call(e).split($),this.each(function(t){i(e,function(e){e&&B(t,v(t,e))&&F(t,v(t,e))})})},hasClass:function(e){return e=J.call(e).split($),c(this,function(t){return c(e,function(e){return e&&B(t,e)})})},toggleClass:function(e,t){return e=J.call(e).split($),this.each(function(n){i(e,function(e){e&&(typeof t!="undefined"?t?!B(n,e)&&j(n,e):F(n,e):B(n,e)?F(n,e):j(n,e))})})},show:function(e){return e=typeof e=="string"?e:"",this.each(function(t){t.style.display=e})},hide:function(){return this.each(function(e){e.style.display="none"})},toggle:function(e,t){return t=typeof t=="string"?t:"",typeof e!="function"&&(e=null),this.each(function(n){n.style.display=n.offsetWidth||n.offsetHeight?"none":t,e&&e.call(n)})},first:function(){return S(this.length?this[0]:[])},last:function(){return S(this.length?this[this.length-1]:[])},next:function(){return this.related("nextSibling")},previous:function(){return this.related("previousSibling")},parent:function(){return this.related(C)},related:function(e){return S(this.map(function(t){t=t[e];while(t&&t.nodeType!==1)t=t[e];return t||0},function(e){return e}))},focus:function(){return this.length&&this[0].focus(),this},blur:function(){return this.length&&this[0].blur(),this},css:function(t,n){function r(e,t,n){for(var r in s)if(s.hasOwnProperty(r)){n=s[r],(t=h(r))&&R.test(n)&&!(t in K)&&(n+=z);try{e.style[t]=v(e,n)}catch(i){}}}var i,s=t;return n===undefined&&typeof t=="string"?(n=this[0],n?n===T||n===x?(i=n===T?S.doc():S.viewport(),t=="width"?i.width:t=="height"?i.height:""):(t=h(t))?e(n,t):null:null):(typeof t=="string"&&(s={},s[t]=n),this.each(r))},offset:function(e,t){if(!e||typeof e!="object"||typeof e.top!="number"&&typeof e.left!="number"){if(typeof e=="number"||typeof t=="number")return this.each(function(n){d(n,e,t)});if(!this[0])return{top:0,left:0,height:0,width:0};var n=this[0],r=n.ownerDocument.documentElement,i=n.getBoundingClientRect(),s=w(),o=n.offsetWidth,u=n.offsetHeight,a=i.top+s.y-Math.max(0,r&&r.clientTop,T.body.clientTop),f=i.left+s.x-Math.max(0,r&&r.clientLeft,T.body.clientLeft);return{top:a,left:f,height:u,width:o}}return this.each(function(t){d(t,e.left,e.top)})},dim:function(){if(!this.length)return{height:0,width:0};var e=this[0],t=e.nodeType==9&&e.documentElement,n=!t&&!!e.style&&!e.offsetWidth&&!e.offsetHeight?function(t){var n={position:e.style.position||"",visibility:e.style.visibility||"",display:e.style.display||""};return t.first().css({position:"absolute",visibility:"hidden",display:"block"}),n}(this):null,r=t?Math.max(e.body.scrollWidth,e.body.offsetWidth,t.scrollWidth,t.offsetWidth,t.clientWidth):e.offsetWidth,i=t?Math.max(e.body.scrollHeight,e.body.offsetHeight,t.scrollHeight,t.offsetHeight,t.clientHeight):e.offsetHeight;return n&&this.first().css(n),{height:i,width:r}},attr:function(e,t){var n=this[0],r;if(typeof e=="string"||e instanceof String)return typeof t=="undefined"?n?k.test(e)?H.test(e)&&typeof n[e]=="string"?!0:n[e]:n[X](e):null:this.each(function(n){k.test(e)?n[e]=v(n,t):n[W](e,v(n,t))});for(r in e)e.hasOwnProperty(r)&&this.attr(r,e[r]);return this},removeAttr:function(e){return this.each(function(t){H.test(e)?t[e]=!1:t.removeAttribute(e)})},val:function(e){return typeof e=="string"||typeof e=="number"?this.attr("value",e):this.length?this[0].value:null},data:function(e,t){var n=this[0],r,s;return typeof t=="undefined"?n?(r=a(n),typeof e=="undefined"?(i(n.attributes,function(e){(s=(""+e.name).match(U))&&(r[o(s[1])]=l(e.value))}),r):(typeof r[e]=="undefined"&&(r[e]=l(this.attr("data-"+u(e)))),r[e])):null:this.each(function(n){a(n)[e]=t})},remove:function(){return this.deepEach(f),this.detach()},empty:function(){return this.each(function(e){s(e.childNodes,f);while(e.firstChild)e.removeChild(e.firstChild)})},detach:function(){return this.each(function(e){e[C]&&e[C].removeChild(e)})},scrollTop:function(e){return m.call(this,null,e,"y")},scrollLeft:function(e){return m.call(this,e,null,"x")}},S.setQueryEngine=function(e){Q=e,delete S.setQueryEngine},S.aug=function(e,t){for(var n in e)e.hasOwnProperty(n)&&((t||g.prototype)[n]=e[n])},S.create=function(e){return typeof e=="string"&&e!==""?function(){if(A.test(e))return[E(e)];var t=e.match(/^\s*<([^\s>]+)/),n=T.createElement("div"),r=[],s=t?P[t[1].toLowerCase()]:null,o=s?s[2]+1:1,u=s&&s[3],a=C;n.innerHTML=s?s[0]+e+s[1]:e;while(o--)n=n.firstChild;u&&n&&n.nodeType!==1&&(n=n.nextSibling);do(!t||n.nodeType==1)&&r.push(n);while(n=n.nextSibling);return i(r,function(e){e[a]&&e[a].removeChild(e)}),r}():t(e)?[e.cloneNode(!0)]:[]},S.doc=function(){var e=S.viewport();return{width:Math.max(T.body.scrollWidth,N.scrollWidth,e.width),height:Math.max(T.body.scrollHeight,N.scrollHeight,e.height)}},S.firstChild=function(e){for(var t=e.childNodes,n=0,r=t&&t.length||0,i;n<r;n++)t[n].nodeType===1&&(i=t[r=n]);return i},S.viewport=function(){return{width:x.innerWidth,height:x.innerHeight}},S.isAncestor="compareDocumentPosition"in N?function(e,t){return(e.compareDocumentPosition(t)&16)==16}:function(e,t){return e!==t&&e.contains(t)},S}),define("utils/loadJSON",[],function(){function e(e,t,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(r.status===200?t&&t(JSON.parse(r.responseText)):n&&n(r))},r.open("GET",e,!0),r.send()}return e}),define("utils/easing",[],function(){"use strict";function t(t,n){var r=new Date,i=e[t];return function(){var e=new Date-r;return i(Math.min(1,e/n))}}var e={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+ --e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};return{functions:e,create:t}}),define("utils/scroller",["utils/easing","libs/bonzo"],function(e,t){function n(n,r,i){var s=t(document.body),o=n,u=s.scrollTop(),a=o-u,f=e.create(i||"easeOutQuad",r),l=function(){s.scrollTop(u+f()*a)},c=window.setInterval(l,15);window.setTimeout(function(){window.clearInterval(c),s.scrollTop(o)},r)}function r(e,r,i){var s=t(e).offset().top;s-=window.innerHeight/4,n(s,r,i)}return{scrollToElement:r,scrollTo:n}}),define("modules/soundcloud",["libs/bean","libs/bonzo","libs/qwery","utils/loadJSON","utils/scroller","sc"],function(e,t,n,r,i){var s;return{init:function(){r("/soundcloud-keys.json",function(e){SC.initialize({client_id:e.id})}),this.bindEvents()},bindEvents:function(){e.on(document.body,"click",".playlist__entry",function(e){this.playTrack(e.currentTarget.dataset.trackId)}.bind(this)),e.on(document.body,"click",".audio-controls",function(e){this.controlsPlay()}.bind(this)),e.on(document.body,"click",".controls__buttons__skip",function(e){t(n(".controls")).hasClass("is-default")==0&&this.onSkip()}.bind(this))},controlsPlay:function(){id=t(n(".post")).attr("data-current-track"),id?this.playTrack(id):this.playTrack(t(n(".playlist__entry")).attr("data-track-id"))},loadingState:function(e,t){t===!0?e.addClass("is-loading"):e.removeClass("is-loading")},scrollToTrack:function(e){i.scrollToElement(el,1e3,"easeInQuad")},onPlay:function(e){e.addClass("is-playing"),t(n("body")).attr("data-state","is-playing"),this.updateNowPlaying()},onSkip:function(){next=t(n(".is-playing")).next().attr("data-track-id"),next?this.playTrack(next,!0):(first=t(n(".playlist__entry")[0]).attr("data-track-id"),this.playTrack(first))},onStop:function(e){t(n("body")).attr("data-state","is-stopped"),e.removeClass("is-playing")},getNowPlayingInfo:function(){return{id:t(n(".is-playing")).attr("data-track-id"),color:t(n(".is-playing .playlist__entry__info")).attr("style"),contrast:t(n(".is-playing")).attr("data-track-contrast"),title:n(".is-playing .playlist__entry__title")[0].textContent,artist:n(".is-playing .playlist__entry__artist")[0].textContent,permalink:t(n(".is-playing")).attr("data-track-permalink")}},updateNowPlaying:function(){track=this.getNowPlayingInfo(),t(n(".controls__buttons__soundcloud a")).attr("href",track.permalink),t(n(".is-changable")).attr("style",track.color.replace("background-","")),t(n(".post")).attr("data-current-track",track.id),t(n(".controls")).removeClass("is-dark is-light is-very-dark is-default").addClass(track.contrast).attr("style",track.color),t(n(".controls__buttons .input")).attr("style",track.color),t(n(".playlist")).attr("style",track.color.replace(")",", 0.2)").replace("rgb","rgba")),t(n(".controls .controls__title__track-artist")).text(track.artist),t(n(".controls .controls__title__track-title")).text(track.title)},updateProgressBar:function(e,r){t(n(".progress-bar__current")).attr("style","width:"+r/e*100+"%;")},newTrack:function(e,t){context=this;var n={onload:function(){this.readyState==2&&context.onSkip()},onfinish:function(){this.onSkip()}.bind(this),onbufferchange:function(){this.loadingState(el,s.playState)}.bind(this),whileplaying:function(){this.updateProgressBar(s.durationEstimate,s.position)}.bind(this),ondataerror:function(){console.log("errorz")},onplay:function(){this.loadingState(el,!0)}.bind(this)};SC.whenStreamingReady(function(){var r=SC.stream("/tracks/"+e,n,function(e){e.play(),s=e,context.onPlay(el),t&&context.scrollToTrack(el)});s.load()})},playTrack:function(e,r){r=r||!1,el=t(n("#playlist__entry--"+e)),current=t(n(".is-playing")),s?s.url.split("/")[4]==e?el.hasClass("is-playing")?(s.pause(),this.onStop(el)):(s.play(),this.onPlay(el),r&&this.scrollToTrack(el),this.loadingState(el,s.playState)):(s.stop(),this.onStop(current),s=undefined,this.newTrack(e,r)):this.newTrack(e,r)}}}),define("playlist",["modules/soundcloud"],function(e){function t(){e.init()}return{init:t}}),requirejs.config({paths:{sc:"http://connect.soundcloud.com/sdk"}}),require(["modules/fonts"],function(e){e.init();var t=document.body.getAttribute("data-bootstrap");t==="home"?require(["home"],function(e){e.init()}):t=="playlist"&&require(["playlist"],function(e){e.init()})}),define("main",function(){});